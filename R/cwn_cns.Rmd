---
title: "cwn_cns"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
require(readr)
require(ggplot2)
require(GGally)
require(dplyr)
```

```{r load, include=FALSE}

load_data = function(fpath){
  cns = read_csv(fpath)
  cns_preproc = cns %>% 
          select(c("word", "RT", "ERR", 
                   "nSense",
                   "closenessA", "betweennessA", "degreeA", "transA", "ncompoA",
                   "closenessC", "betweennessC", "degreeC", "transC", "ncompoC"
                  )) %>%
          mutate(nSense=log(nSense),
                 degreeA=log(degreeA+1), degreeC=log(degreeC+1),
                 closenessA=log(closenessA+1), closenessC=log(closenessC+1),
                 betweennessA=log(betweennessA+1), betweennessC=log(betweennessC+1),
                 ncompoA=log(ncompoA), ncompoC=log(ncompoC)
                ) %>%
          rename(
            clsA=closenessA, clsC=closenessC,
            btwA=betweennessA, btwC=betweennessC,
            degA=degreeA, degC=degreeC
          )
  return(cns_preproc)
}
```

```{r data}
cns_min = load_data("../data/cns/cns_meld_sch_min.csv")
cns_avg = load_data("../data/cns/cns_meld_sch_avg.csv")
cns_max = load_data("../data/cns/cns_meld_sch_max.csv")
head(cns_min)

```

```{r plot}
ggpairs(cns_min, columns=which(!(grepl("word|.*C", names(cns_min))))) +
    ggtitle("CWN Graph A, min()")
ggpairs(cns_min, columns=which(!(grepl("word|.*A", names(cns_min))))) +
    ggtitle("CWN Graph C, min()")
ggpairs(cns_avg, columns=which(!(grepl("word|.*C", names(cns_avg))))) +
    ggtitle("CWN Graph A, avg()")
ggpairs(cns_avg, columns=which(!(grepl("word|.*A", names(cns_avg))))) +
    ggtitle("CWN Graph C, avg()")
ggpairs(cns_max, columns=which(!(grepl("word|.*C", names(cns_max))))) +
    ggtitle("CWN Graph A, max()")
ggpairs(cns_max, columns=which(!(grepl("word|.*A", names(cns_max))))) +
    ggtitle("CWN Graph C, max()")
# ggpairs(cns_avg, columns=2:(ncol(cns_avg)))
# ggpairs(cns_max, columns=2:(ncol(cns_max)))
```
